/**
 * Tremor Guard - Main Styles
 * 震颤卫士 - 主样式文件
 * 温暖、现代、圆润的设计系统
 */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== Base Styles ===== */
@layer base {
  html {
    @apply scroll-smooth;
  }

  body {
    @apply bg-warmGray-50 text-gray-800 antialiased;
    font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
  }

  h1 {
    @apply text-3xl font-bold text-gray-900;
  }

  h2 {
    @apply text-2xl font-semibold text-gray-800;
  }

  h3 {
    @apply text-xl font-semibold text-gray-800;
  }

  /* 选中文本样式 */
  ::selection {
    @apply bg-primary-200 text-primary-900;
  }

  /* 滚动条样式 */
  ::-webkit-scrollbar {
    @apply w-2 h-2;
  }

  ::-webkit-scrollbar-track {
    @apply bg-warmGray-100 rounded-full;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-primary-300 rounded-full hover:bg-primary-400 transition-colors;
  }
}

/* ===== Component Styles ===== */
@layer components {
  /* ===== 卡片组件 ===== */
  .card {
    @apply bg-white rounded-2xl shadow-soft p-6
           transition-all duration-300 ease-out;
  }

  .card:hover {
    @apply shadow-soft-lg -translate-y-0.5;
  }

  .card-flat {
    @apply bg-white rounded-2xl p-6 border border-warmGray-200;
  }

  .card-gradient {
    @apply rounded-2xl p-6 shadow-soft
           bg-gradient-to-br from-white via-primary-50/30 to-primary-100/20;
  }

  .card-glass {
    @apply rounded-2xl p-6
           bg-white/70 backdrop-blur-xl
           border border-white/50 shadow-soft;
  }

  /* ===== 按钮组件 ===== */
  .btn {
    @apply px-5 py-2.5 rounded-xl font-medium
           transition-all duration-200 ease-out
           inline-flex items-center justify-center gap-2
           focus:outline-none focus:ring-2 focus:ring-offset-2
           disabled:opacity-50 disabled:cursor-not-allowed
           active:scale-95;
  }

  .btn-primary {
    @apply bg-gradient-to-r from-primary-500 to-primary-600
           text-white shadow-soft
           hover:from-primary-600 hover:to-primary-700
           hover:shadow-soft-lg hover:-translate-y-0.5
           focus:ring-primary-500;
  }

  .btn-secondary {
    @apply bg-warmGray-100 text-gray-700
           hover:bg-warmGray-200 hover:-translate-y-0.5
           focus:ring-warmGray-300;
  }

  .btn-ghost {
    @apply bg-transparent text-gray-600
           hover:bg-warmGray-100 hover:text-gray-800
           focus:ring-warmGray-200;
  }

  .btn-danger {
    @apply bg-gradient-to-r from-red-500 to-red-600
           text-white shadow-soft
           hover:from-red-600 hover:to-red-700
           hover:shadow-soft-lg hover:-translate-y-0.5
           focus:ring-red-500;
  }

  .btn-success {
    @apply bg-gradient-to-r from-mint-500 to-mint-600
           text-white shadow-soft
           hover:from-mint-600 hover:to-mint-600
           hover:shadow-soft-lg hover:-translate-y-0.5
           focus:ring-mint-500;
  }

  .btn-lavender {
    @apply bg-gradient-to-r from-lavender-400 to-lavender-500
           text-white shadow-soft
           hover:from-lavender-500 hover:to-lavender-600
           hover:shadow-soft-lg hover:-translate-y-0.5
           focus:ring-lavender-500;
  }

  .btn-outline {
    @apply border-2 border-primary-500 text-primary-600 bg-transparent
           hover:bg-primary-50 hover:-translate-y-0.5
           focus:ring-primary-500;
  }

  .btn-sm {
    @apply px-3 py-1.5 text-sm rounded-lg;
  }

  .btn-lg {
    @apply px-8 py-3.5 text-lg rounded-2xl;
  }

  .btn-icon {
    @apply p-2.5 rounded-xl;
  }

  /* ===== 输入框组件 ===== */
  .input {
    @apply w-full px-4 py-3 rounded-xl
           bg-white border-2 border-warmGray-200
           text-gray-800 placeholder-gray-400
           transition-all duration-200 ease-out
           focus:outline-none focus:border-primary-400
           focus:ring-4 focus:ring-primary-100
           hover:border-warmGray-300;
  }

  .input-error {
    @apply border-red-300 focus:border-red-400 focus:ring-red-100;
  }

  .input-glass {
    @apply bg-white/50 backdrop-blur-sm border-white/50;
  }

  /* 输入框组 */
  .input-group {
    @apply relative;
  }

  .input-group .input-icon {
    @apply absolute left-4 top-1/2 -translate-y-1/2 text-gray-400;
  }

  .input-group .input {
    @apply pl-11;
  }

  /* ===== 标签和徽章 ===== */
  .badge {
    @apply px-3 py-1 rounded-full text-sm font-medium inline-flex items-center gap-1;
  }

  .badge-primary {
    @apply bg-primary-100 text-primary-700;
  }

  .badge-success {
    @apply bg-mint-100 text-mint-700;
  }

  .badge-warning {
    @apply bg-yellow-100 text-yellow-700;
  }

  .badge-danger {
    @apply bg-red-100 text-red-700;
  }

  .badge-lavender {
    @apply bg-lavender-100 text-lavender-700;
  }

  /* ===== 严重度徽章 ===== */
  .severity-badge {
    @apply px-3 py-1.5 rounded-full text-sm font-semibold inline-flex items-center gap-1.5;
  }

  .severity-0 {
    @apply bg-green-100 text-green-700 ring-2 ring-green-200;
  }

  .severity-1 {
    @apply bg-lime-100 text-lime-700 ring-2 ring-lime-200;
  }

  .severity-2 {
    @apply bg-yellow-100 text-yellow-700 ring-2 ring-yellow-200;
  }

  .severity-3 {
    @apply bg-orange-100 text-orange-700 ring-2 ring-orange-200;
  }

  .severity-4 {
    @apply bg-red-100 text-red-700 ring-2 ring-red-200;
  }

  /* 严重度点指示器 */
  .severity-dot {
    @apply w-3 h-3 rounded-full;
  }

  .severity-dot-0 { @apply bg-severity-0; }
  .severity-dot-1 { @apply bg-severity-1; }
  .severity-dot-2 { @apply bg-severity-2; }
  .severity-dot-3 { @apply bg-severity-3; }
  .severity-dot-4 { @apply bg-severity-4; }

  /* ===== 导航组件 ===== */
  .nav-item {
    @apply flex items-center gap-3 px-4 py-3 rounded-xl
           text-gray-600 font-medium
           transition-all duration-200 ease-out
           hover:bg-primary-50 hover:text-primary-600;
  }

  .nav-item.active {
    @apply bg-gradient-to-r from-primary-500 to-primary-600
           text-white shadow-soft;
  }

  .nav-item .nav-icon {
    @apply w-5 h-5 transition-transform duration-200;
  }

  .nav-item:hover .nav-icon {
    @apply scale-110;
  }

  /* ===== 模态框组件 ===== */
  .modal-overlay {
    @apply fixed inset-0 bg-gray-900/50 backdrop-blur-sm z-50
           flex items-center justify-center p-4;
  }

  .modal {
    @apply bg-white rounded-3xl shadow-soft-xl
           w-full max-w-lg max-h-[90vh] overflow-hidden;
  }

  .modal-header {
    @apply px-6 py-5 border-b border-warmGray-100
           flex items-center justify-between;
  }

  .modal-body {
    @apply px-6 py-5 overflow-y-auto;
  }

  .modal-footer {
    @apply px-6 py-4 border-t border-warmGray-100
           flex items-center justify-end gap-3 bg-warmGray-50/50;
  }

  /* ===== 表格组件 ===== */
  .table-container {
    @apply bg-white rounded-2xl shadow-soft overflow-hidden;
  }

  .table {
    @apply w-full;
  }

  .table thead {
    @apply bg-warmGray-50;
  }

  .table th {
    @apply px-5 py-4 text-left text-sm font-semibold text-gray-600 uppercase tracking-wider;
  }

  .table td {
    @apply px-5 py-4 text-gray-700;
  }

  .table tbody tr {
    @apply border-b border-warmGray-100 last:border-0
           transition-colors duration-150
           hover:bg-primary-50/30;
  }

  /* 斑马纹表格 */
  .table-striped tbody tr:nth-child(even) {
    @apply bg-warmGray-50/50;
  }

  /* ===== 标签页组件 ===== */
  .tabs {
    @apply flex gap-1 p-1 bg-warmGray-100 rounded-xl;
  }

  .tab {
    @apply px-4 py-2.5 rounded-lg font-medium text-gray-600
           transition-all duration-200 ease-out
           hover:text-gray-800;
  }

  .tab.active {
    @apply bg-white text-primary-600 shadow-soft;
  }

  /* 垂直标签页 */
  .tabs-vertical {
    @apply flex flex-col gap-1 p-1 bg-warmGray-100 rounded-xl;
  }

  /* ===== 开关组件 ===== */
  .switch {
    @apply relative inline-flex h-6 w-11 items-center rounded-full
           bg-warmGray-200 transition-colors duration-200 ease-out
           cursor-pointer;
  }

  .switch.active {
    @apply bg-primary-500;
  }

  .switch-thumb {
    @apply inline-block h-5 w-5 rounded-full bg-white shadow-md
           transform transition-transform duration-200 ease-out
           translate-x-0.5;
  }

  .switch.active .switch-thumb {
    @apply translate-x-5;
  }

  /* ===== 进度条组件 ===== */
  .progress {
    @apply h-2 bg-warmGray-200 rounded-full overflow-hidden;
  }

  .progress-bar {
    @apply h-full bg-gradient-to-r from-primary-400 to-primary-500 rounded-full
           transition-all duration-500 ease-out;
  }

  /* ===== 头像组件 ===== */
  .avatar {
    @apply w-10 h-10 rounded-full bg-gradient-to-br from-primary-400 to-primary-600
           flex items-center justify-center text-white font-semibold
           ring-2 ring-white shadow-soft;
  }

  .avatar-lg {
    @apply w-16 h-16 text-xl;
  }

  .avatar-xl {
    @apply w-24 h-24 text-2xl ring-4;
  }

  /* ===== 提示组件 ===== */
  .alert {
    @apply p-4 rounded-xl flex items-start gap-3;
  }

  .alert-info {
    @apply bg-primary-50 text-primary-800 border border-primary-200;
  }

  .alert-success {
    @apply bg-mint-50 text-mint-800 border border-mint-200;
  }

  .alert-warning {
    @apply bg-yellow-50 text-yellow-800 border border-yellow-200;
  }

  .alert-error {
    @apply bg-red-50 text-red-800 border border-red-200;
  }

  /* ===== 骨架屏加载 ===== */
  .skeleton {
    @apply bg-warmGray-200 rounded-lg animate-pulse;
  }

  .skeleton-text {
    @apply h-4 bg-warmGray-200 rounded animate-pulse;
  }

  .skeleton-avatar {
    @apply w-10 h-10 bg-warmGray-200 rounded-full animate-pulse;
  }

  /* ===== 分页组件 ===== */
  .pagination {
    @apply flex items-center gap-2;
  }

  .pagination-btn {
    @apply w-10 h-10 rounded-full flex items-center justify-center
           text-gray-600 font-medium
           transition-all duration-200 ease-out
           hover:bg-primary-50 hover:text-primary-600;
  }

  .pagination-btn.active {
    @apply bg-primary-500 text-white shadow-soft hover:bg-primary-600;
  }

  .pagination-btn:disabled {
    @apply opacity-50 cursor-not-allowed hover:bg-transparent hover:text-gray-600;
  }

  /* ===== 工具提示 ===== */
  .tooltip {
    @apply absolute z-50 px-3 py-2 text-sm font-medium
           bg-gray-800 text-white rounded-lg shadow-lg
           opacity-0 invisible transition-all duration-200 ease-out;
  }

  .tooltip.show {
    @apply opacity-100 visible;
  }

  /* ===== 下拉菜单 ===== */
  .dropdown {
    @apply absolute z-40 mt-2 min-w-48
           bg-white rounded-xl shadow-soft-lg border border-warmGray-100
           py-2 opacity-0 invisible
           transform origin-top-right scale-95
           transition-all duration-200 ease-out;
  }

  .dropdown.show {
    @apply opacity-100 visible scale-100;
  }

  .dropdown-item {
    @apply px-4 py-2.5 text-gray-700 flex items-center gap-3
           transition-colors duration-150
           hover:bg-primary-50 hover:text-primary-600 cursor-pointer;
  }

  /* ===== 空状态 ===== */
  .empty-state {
    @apply flex flex-col items-center justify-center py-12 text-center;
  }

  .empty-state-icon {
    @apply w-16 h-16 mb-4 text-warmGray-300;
  }

  .empty-state-title {
    @apply text-lg font-semibold text-gray-600 mb-2;
  }

  .empty-state-description {
    @apply text-gray-400 max-w-sm;
  }

  /* ===== 状态指示器 ===== */
  .status-indicator {
    @apply w-3 h-3 rounded-full;
  }

  .status-online {
    @apply bg-mint-500 shadow-[0_0_8px_rgba(16,185,129,0.5)];
  }

  .status-offline {
    @apply bg-gray-400;
  }

  .status-warning {
    @apply bg-yellow-500 shadow-[0_0_8px_rgba(234,179,8,0.5)];
  }

  /* ===== 脉冲光环动画 ===== */
  .pulse-ring {
    @apply relative;
  }

  .pulse-ring::before,
  .pulse-ring::after {
    content: '';
    @apply absolute inset-0 rounded-full border-2 border-primary-400;
    animation: pulseRing 2s ease-out infinite;
  }

  .pulse-ring::after {
    animation-delay: 1s;
  }

  /* ===== 装饰性浮动圆 ===== */
  .floating-decoration {
    @apply absolute rounded-full opacity-20 pointer-events-none;
    animation: float 6s ease-in-out infinite;
  }

  /* ===== 渐变文字 ===== */
  .text-gradient {
    @apply bg-gradient-to-r from-primary-500 to-primary-700 bg-clip-text text-transparent;
  }

  .text-gradient-lavender {
    @apply bg-gradient-to-r from-lavender-500 to-lavender-700 bg-clip-text text-transparent;
  }

  /* ===== 毛玻璃效果 ===== */
  .glass {
    @apply bg-white/70 backdrop-blur-xl border border-white/50;
  }

  .glass-dark {
    @apply bg-gray-900/70 backdrop-blur-xl border border-gray-700/50;
  }

  /* ===== 分隔线 ===== */
  .divider {
    @apply h-px bg-gradient-to-r from-transparent via-warmGray-200 to-transparent;
  }

  .divider-vertical {
    @apply w-px h-full bg-gradient-to-b from-transparent via-warmGray-200 to-transparent;
  }
}

/* ===== Utility Styles ===== */
@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* 动画延迟工具类 */
  .animation-delay-100 { animation-delay: 100ms; }
  .animation-delay-200 { animation-delay: 200ms; }
  .animation-delay-300 { animation-delay: 300ms; }
  .animation-delay-400 { animation-delay: 400ms; }
  .animation-delay-500 { animation-delay: 500ms; }

  /* 隐藏滚动条 */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* 渐变边框 */
  .gradient-border {
    position: relative;
    background: white;
    border-radius: 1rem;
  }
  .gradient-border::before {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: inherit;
    padding: 2px;
    background: linear-gradient(135deg, #FB923C, #F97316, #EA580C);
    -webkit-mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
  }

  /* 闪烁效果 */
  .shimmer {
    background: linear-gradient(
      90deg,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 255, 255, 0.5) 50%,
      rgba(255, 255, 255, 0) 100%
    );
    background-size: 200% 100%;
    animation: shimmer 2s infinite;
  }
}

/* ===== Vue 过渡动画 ===== */

/* 淡入淡出 */
.fade-enter-active,
.fade-leave-active {
  transition: opacity 0.3s ease;
}

.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}

/* 淡入上移 */
.fade-up-enter-active,
.fade-up-leave-active {
  transition: all 0.3s ease-out;
}

.fade-up-enter-from {
  opacity: 0;
  transform: translateY(20px);
}

.fade-up-leave-to {
  opacity: 0;
  transform: translateY(-10px);
}

/* 缩放 */
.scale-enter-active,
.scale-leave-active {
  transition: all 0.2s ease-out;
}

.scale-enter-from,
.scale-leave-to {
  opacity: 0;
  transform: scale(0.9);
}

/* 滑入滑出 - 右 */
.slide-right-enter-active,
.slide-right-leave-active {
  transition: all 0.3s ease-out;
}

.slide-right-enter-from {
  opacity: 0;
  transform: translateX(30px);
}

.slide-right-leave-to {
  opacity: 0;
  transform: translateX(-30px);
}

/* 滑入滑出 - 左 */
.slide-left-enter-active,
.slide-left-leave-active {
  transition: all 0.3s ease-out;
}

.slide-left-enter-from {
  opacity: 0;
  transform: translateX(-30px);
}

.slide-left-leave-to {
  opacity: 0;
  transform: translateX(30px);
}

/* 模态框动画 */
.modal-enter-active,
.modal-leave-active {
  transition: all 0.3s ease-out;
}

.modal-enter-from,
.modal-leave-to {
  opacity: 0;
}

.modal-enter-from .modal,
.modal-leave-to .modal {
  transform: scale(0.9) translateY(20px);
}

/* 列表交错动画 */
.list-enter-active,
.list-leave-active {
  transition: all 0.4s ease-out;
}

.list-enter-from {
  opacity: 0;
  transform: translateX(-30px);
}

.list-leave-to {
  opacity: 0;
  transform: translateX(30px);
}

.list-move {
  transition: transform 0.4s ease-out;
}

/* ===== 减少动画偏好支持 ===== */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
